<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThockPick - 완벽한 타건감을 찾아보세요</title>

    <!-- 카카오톡 미리보기 -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://thockpick.com">
    <meta property="og:title" content="ThockPick - 키보드 스위치 검색 서비스">
    <meta property="og:description" content="나에게 딱 맞는 키보드 스위치를 찾아보세요.">
    <meta property="og:image" content="http://thockpick.com/images/kakao/og-image.png">

    <link rel="icon" type="image/svg+xml" th:href="@{/images/svg/favicon.svg}">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/home.css}">
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <img th:src="@{/images/svg/keyboard-icon.svg}" alt="keyboard" class="hero-icon">
            <h1>ThockPick</h1>
            <p>완벽한 타건감을 찾아보세요</p>
        </div>

        <!-- Search Section -->
        <div class="search-section">
            <form action="/switches" method="get">
                <div class="search-box">
                    <input type="text"
                           name="keyword"
                           placeholder="스위치 이름을 검색하세요... (예: Cherry MX Red, Gateron Yellow)"
                           autocomplete="off">
                    <button type="submit">검색</button>
                </div>
            </form>

            <h3 class="type-section-title">스위치 타입별로 찾아보기</h3>
            <div class="type-buttons">
                <a th:each="type : ${types}"
                   th:href="@{/switches(type=${type})}"
                   class="type-button"
                   th:classappend="${type}">
                    <div class="type-name" th:text="${type}">LINEAR</div>
                    <div class="type-count" th:text="${typeCountMap.get(type)} + '개'">0개</div>
                </a>
            </div>
        </div>

        <!-- Stats Section -->
        <div class="stats-section">
            <h2 class="stats-title">현재 데이터베이스 현황</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" th:text="${totalCount}">0</div>
                    <div class="stat-label">등록된 스위치</div>
                </div>
                <div class="stat-item" th:each="entry : ${typeCountMap}">
                    <div class="stat-number" th:text="${entry.value}">0</div>
                    <div class="stat-label" th:text="${entry.key} + ' 스위치'">LINEAR 스위치</div>
                </div>
            </div>
        </div>

        <!-- View All Button -->
        <div class="view-all-section">
            <a href="/switches" class="view-all-btn">전체 스위치 보기 →</a>
        </div>
    </div>
    <!-- Bootstrap 5 JS Bundle (Popper 포함) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
